<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/ex17.css">
    <title>Forca</title>

    <script>
        //code: anterior:
        let palavra = prompt("Digite a palavra secreta: ")

            let palavra_array = palavra.split("")
            let array_limpo = []
            let segredo_array = []
            let letras_tentadas = ""
            let letras_erradas = ""
            let vidas = 6


            //mudar a cor:
            document.addEventListener('DOMContentLoaded', () => {
            const botoes = document.querySelectorAll('.botao');

            botoes.forEach(botao => {
                botao.addEventListener('click', () => {
                    botao.classList.add('clicked');
                });
            });
        });


            for(i = 0; i < palavra_array.length; i++){
                if(palavra_array[i] == " "){
                    segredo_array.push(" ")
                }
                else if(palavra_array[i] == "-"){
                    segredo_array.push("-")
                }
                else{
                    segredo_array.push("_")
                }
            }

            for(i = 0; i <= palavra_array.length -1; i++){
                if(["Ã¡", "Ã£", "Ã¢"].includes(palavra_array[i])){
                    array_limpo.push("a")
                }
                else if(["Ã©", "Ãª"].includes(palavra_array[i])){
                    array_limpo.push("e")
                }
                else if(["Ã­"].includes(palavra_array[i])){
                    array_limpo.push("i")
                }
                else if(["Ã³", "Ã´"].includes(palavra_array[i])){
                    array_limpo.push("o")
                }
                else if(["Ãº"].includes(palavra_array[i])){
                    array_limpo.push("u")
                }
                else{
                    array_limpo.push(palavra_array[i].toLowerCase())
                }
            }

            function chute(letra){
                if(vidas!=0){
                    letras_tentadas += letra
                    if(array_limpo.includes(letra)){
                        for(i = 0; i <= segredo_array.length ;i++){
                            if(array_limpo[i] == letra){
                                segredo_array[i] = palavra_array[i]
                            }
                        }

                    }
                    else{
                        letras_erradas+=letra
                        vidas-- 
                        atualizarImagem(vidas);
                    }

                }


                    document.getElementById('imagem').style.backgroundImage = `url('${imagemUrl}')`;
                }

                document.getElementById('palavraSecreta').innerHTML = `${segredo_array.join("")}`
                document.getElementById('letrasTentadas').innerHTML = `Letras jÃ¡ tentadas: ${letras_tentadas}`
                document.getElementById('letrasErradas').innerHTML = `Letras erradas: ${letras_erradas}`
                document.getElementById('vidas').innerHTML = `Vidas: ${vidas}`
                

                //para aparecer a mensagem "voce ganhou!":
                if(segredo_array.join("") == palavra){
                    alert(`VocÃª ganhou!\nA palavra secreta era ${palavra}`)
                    vidas = 0
                }
                
                if (vidas === 6){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/vazio.svg)"
                }
                else if (vidas === 5){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/cabeca.svg)"
                }
                else if (vidas === 4){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/mao direita.svg)"
                }
                else if (vidas === 3){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/mao esquerda.svg)"
                }
                else if (vidas === 2){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/pe esquerdo.svg)"
                }
                else if (vidas === 1){
                    document.getElementById('imagem').style.backgroundImage = "url(/Exercicio-JS-Grupo/img-forca/forca-svg/pe esquerdo.svg)"
                }

            
            // testando atualidar vidas/img
            
        // window.onload = forca();

        //botao para reiniciar:
        function recarregarAPagina(){
            window.location.reload();
} 

    </script>
</head>
<body> <!--<body onload="forca()">!-->
    <header>

    </header>

    <div class="container">

        <div class="img" id="imagem">
        </div>

        <p id="palavraSecreta"></p>
        <p id="letrasTentadas">Letras tentadas: </p>
        <p id="letrasErradas">Letras erradas: </p>
        <p id="vidas"></p>
        
        <div class="ps" id="palavra-secreta">
            <div class="letras">T</div>
            <div class="letras">E</div>
            <div class="letras">S</div>
            <div class="letras">T</div>
            <div class="letras">E</div>
        </div>

        <div class="ts" id="teclado">
            <div class="teclas">
                <button class="botao" onclick="chute('a')">A</button>
                <button class="botao" onclick="chute('b')">B</button>
                <button class="botao" onclick="chute('c')">C</button>
                <button class="botao" onclick="chute('d')">D</button>
                <button class="botao" onclick="chute('e')">E</button>
                <button class="botao" onclick="chute('f')">F</button>
                <button class="botao" onclick="chute('g')">G</button>
                <button class="botao" onclick="chute('h')">H</button>
                <button class="botao" onclick="chute('i')">I</button>
            </div>
            <div class="teclas">
                <button class="botao" onclick="chute('j')">J</button>
                <button class="botao" onclick="chute('k')">K</button>
                <button class="botao" onclick="chute('l')">L</button>
                <button class="botao" onclick="chute('m')">M</button>
                <button class="botao" onclick="chute('n')">N</button>
                <button class="botao" onclick="chute('o')">O</button>
                <button class="botao" onclick="chute('p')">P</button>
                <button class="botao" onclick="chute('q')">Q</button>
                <button class="botao" onclick="chute('r')">R</button>
            </div>
            <div class="teclas">
                <button class="botao" onclick="chute('s')">S</button>
                <button class="botao" onclick="chute('t')">T</button>
                <button class="botao" onclick="chute('u')">U</button>
                <button class="botao" onclick="chute('v')">V</button>
                <button class="botao" onclick="chute('w')">W</button>
                <button class="botao" onclick="chute('x')">X</button>
                <button class="botao" onclick="chute('y')">Y</button>
                <button class="botao" onclick="chute('z')">Z</button>    
                <button id="botao-restart" onclick="recarregarAPagina()">ðŸ”ƒ</button>
            </div>
        </div>
<!-- 
        <div class="vidas" id="lifes">
            <div class="vida" id="vida-1"><img src="imagens/coracao.svg" style="width: 30px;" alt=""></div>
            <div class="vida" id="vida-2"><img src="imagens/coracao.svg" style="width: 30px;" alt=""></div>
            <div class="vida" id="vida-3"><img src="imagens/coracao.svg" style="width: 30px;" alt=""></div>
            <div class="vida" id="vida-4"><img src="imagens/coracao.svg" style="width: 30px;" alt=""></div>
            <div class="vida" id="vida-5"><img src="imagens/coracao.svg" style="width: 30px;" alt=""></div>
        </div> -->


    </div>
    </body>
</body>
</html> 