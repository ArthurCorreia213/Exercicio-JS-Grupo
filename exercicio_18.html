<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/ex18.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Mono+One&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <title>Mercado</title>

    <script>
        let listaCompleta = []
        
        function salvar(){
            // let item = [[]]
            // let nome = document.getElementById("nome").value
            // let quantidade = document.getElementById("quantidade").value
            // let valor = document.getElementById("valor").value
            // item.push(nome, quantidade, valor)
            // listaCompleta.push(item)

                let nome = document.getElementById("nome").value;
                let quantidade = document.getElementById("quantidade").value;
                let valor = document.getElementById("valor").value;
                listaCompleta.push([nome, quantidade, valor]); // Atualiza a exibição após salvar

            
        }

        function exibir(){
            // document.getElementById('nome_tabela').innerHTML = ""
            // document.getElementById('quantidade_tabela').innerHTML = ""
            // document.getElementById('valor_tabela').innerHTML = ""
            // document.getElementById('acoes_tabela').innerHTML = ""

            // for(let i = 0; i<=listaCompleta.length -1; i++){
            //     document.getElementById('nome_tabela').innerHTML += `${listaCompleta[i][1]}`+"<hr>"
            // }
            // for(let i = 0; i<=listaCompleta.length -1; i++){
            //     document.getElementById('quantidade_tabela').innerHTML += `${listaCompleta[i][2]}`+"<hr>"
            // }
            // for(let i = 0; i<=listaCompleta.length -1; i++){
            //     document.getElementById('valor_tabela').innerHTML += ` R$ ${listaCompleta[i][3]}`+"<hr>"
            // }

            // //config: botão para deletar
            // for(let i = 0; i<=listaCompleta.length -1; i++){
            //     document.getElementById('acoes_tabela').innerHTML += `${listaCompleta[i][4]}`+`<button id='remove' onclick='remover()'>Remover</button> <hr>`
            // }

            document.getElementById('nome_tabela').innerHTML = "";
    document.getElementById('quantidade_tabela').innerHTML = "";
    document.getElementById('valor_tabela').innerHTML = "";
    document.getElementById('acoes_tabela').innerHTML = "";

    listaCompleta.forEach((item, index) => {
        document.getElementById('nome_tabela').innerHTML += `${item[0]}<br>`;
        document.getElementById('quantidade_tabela').innerHTML += `${item[1]}<br>`;
        document.getElementById('valor_tabela').innerHTML += ` R$ ${item[2]}<br>`;
        document.getElementById('acoes_tabela').innerHTML += 
            `<button id='b-r' onclick='remover(${index})'>Deletar</button><br>`;
    });

    document.querySelector('.tabela-pai').style.display = 'block';
    // `<button id='b-r' onclick='remover(${index})'><img src="imagens/delete.svg" style="width: 15px;" alt="delete"></button><br>`;


            

        }


        

        // function remover() {
        //     let teste = listaCompleta.pop();
        //     exibir() 
        // }

        function remover(index) {
    listaCompleta.splice(index, 1); // Remove o item no índice especificado
    exibir(); // Atualiza a exibição após remover
}

        //botao "funcionou", mas ta tipo, tem que clicar em salvar, depois em exibir, aparece os produtos, mas fica bugado pois tem que clicar no botão e logo após tem que clicar em exibir, que some os dados, mas o botao fica ainda
        
    </script>

</head>

<body>
    <header>

    </header>
    <section>
        <div class="titulo">
            <h1> Gerenciamento de Estoque </h1>
        </div>
        <article>
            <div class="nome">
                <p>Digite o nome do produto: </p>
                <input type="text" name="nome" id="nome" placeholder="Digite o nome do produto">
                </input>  
            </div>

            <div class="quantidade">
                <p>Digite a quantidade do produto</p>
                <input type="number" name="quantidade" id="quantidade" placeholder="Digite a quantidade do produto">
                </input>
            </div>

            <div class="valor">
                <p>Qual foi o valor do produto?</p>
                <input type="number" name="valor" id="valor" placeholder="Digite o valor do produto">
            </div>

            <div class="botoes">
                <div class="salvar">
                    <button onclick="salvar()">Salvar</button>
                </div>

                <div class="exibir">
                    <button onclick="exibir()">Exibir produtos cadastrados</button>
                </div>
            </div>
            <p id="p"></p>
            <table>
                
            </article>
        </article>
    </section>

    <br><br><br>
    <p id="p"></p>
    <div class="tabela-pai">
        
        <div class="tabela-titulos">
            <div class="nomes"><p>Nome do produto</p></div>
            <div class="nomes"><p>Quantidade</p></div>
            <div class="nomes"><p>Valor</p></div>
            <div class="nomes"><p>Ações</p></div>
        </div>
            <div class= "tabela" id="teste">
                <div id="nome_tabela"></div>
                <div id="quantidade_tabela"></div>
                <div id="valor_tabela"></div>
                <div id="acoes_tabela">
                    <!-- <button onclick="remover()">Remover</button> -->
                </div>
            </div>
    </div>
    <!-- (teste tabela:) -->
     <!-- <table>
        <tr>
            <td>Produto</td>
            <td>Quantidade</td>
            <td>Valor</td>
            <td>Ações</td>
        </tr>
        <tr>
            <td class="tabela 1" id="produto"></td>
            <td class="tabela 2" id="quantidade"></td>
            <td class="tabela 3" id="valor"></td>
            <td class="tabela 4" id="acoes"></td>
        </tr>
     </table> -->
</body>
</html>